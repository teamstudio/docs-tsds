# フィルタ例

次の表では、作成可能なフィルタの例を示します。表の後で、それらのフィ ルタを作成する手順について説明します。

<table>
<tr><th>フィルタの例</th><th>説明</th></tr>
<tr><td>スタティックテキストの検索</td>
<td>データベース内で<b>@Do</b>などの特定の@関数イン スタンスを検索できます。これを実行するには、 <b>TMSRTContains</b> 式を使用して <b>@Do</b> を検索する フィルタを作成してください。この場合、完全一致 検索を使用してください。これを使用しないと、 <b>@Doc</b>、<b>@DoChildren</b>、<b>@DocFields</b> などの <b>@Do</b> で 始まる他の関数も検索結果に含まれることになり ます。</td></tr>
<tr><td>分析文書内に含まれている 値の検索</td>
<td>社内基準に合わせるために、ウィンドウタイトルに フォーム名が含まれていないフォームすべてを検 索および修正する必要があるとします。これを実行 するには、<b>TMSRTContains( ffrmWinTitle; 0; Memo )</b> などの式(「Memo」は特定のフォーム名)を使用し て、<b>TMSRTContains</b> 関数にフォーム名を渡します。 しかし、この場合は「Memo」だけでなく、ウィン ドウタイトルにフォーム名が含まれないフォーム すべてを検索する必要があります。<br/>
これらのフォームすべてを検索するには、実際の フォーム名の文字列を渡す代わりに、フォームのタ イトルを含むフィールド名を渡します。これにより、このフィルタを特定のフォームだけでなく フォームすべてに適用できるようになります。</td></tr>
<tr><td>親の値の使用</td><td>社内基準の 1 つに、フィールド名をフォームの別名 で始めるというものがあるとします。この場合、 フィールド名が親要素であるサブフォームの別名 で始まらない、文書内のフィールドすべてを表示するフィルタを作成できます。</td></tr>
</table>

## 一定値"@Do"の使用を検索するフィルタを作成するには
1. 監査機能のフィルタデータベース(**deanfltr.nsf**)を開きます。
2. **[ 新規フィルタの作成 ]** をクリックして、**[ 新規フィルタ ]** を開きます。
3. **[ 新規フィルタ ]** ウィンドウで、次の内容を入力します。
   <p><table><tr><th>フィールド名</th><th>入力項目または選択対象</th></tr>
    <tr><td>フィルタ名:</td><td>データベースでの <b>@Do</b> の使用</td></tr>
    <tr><td>フィルタを有効にする:</td><td>はい</td></tr>
    <tr><td>重大度:</td><td>中</td></tr>
    <tr><td>フィルタクラス:</td><td>一般フィルタ</td></tr>
    <tr><td>コメント:</td><td>@Do が使われている式を検索</td></tr>
    <tr><td>適用設計要素:</td><td>すべて</td></tr>
   </table>
   新規フィルタの以下のようになります:
   <img src="../img/filtersexamples.png"/></p>
4. **[ プロパティ ]** キーワードの **[ すべてのコード(式/ LS / JavaScript)]** を選択します。
5. **[ 操作 ]** フィールドで、**[ 次の文字列がリッチテキストに含まれる ]** オプション を選択します。
6. **[ 値 ]** フィールドに**「@DO」**と入力します。
7. **[ フラグ ]** フィールドで、矢印をクリックして一覧を表示します。
8. **[ 全単語の一致 ]** を選択し、**[OK]** をクリックします。
9. **[ 条件を追加 ]** ボタンをクリックします。  
   [ 検証式 ] フィールドに式が表示されます。  
   ![Filter formula](img/filtersexamples2.png)
10. フィルタを保存し、終了します。